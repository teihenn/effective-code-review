# コーディングのtips

- [コーディングのtips](#コーディングのtips)
  - [良い変更説明を書く](#良い変更説明を書く)
    - [コミットメッセージをちゃんと書く](#コミットメッセージをちゃんと書く)
      - [Gitのコミットメッセージの標準: 50/72ルール\[2\]\[3\]](#gitのコミットメッセージの標準-5072ルール23)
    - [コードにコメントを書く](#コードにコメントを書く)


## 良い変更説明を書く

### コミットメッセージをちゃんと書く

- コミットメッセージはレビュアーや将来の自分などのためにもきちんと書く
- 修正の理由や背景など、コード差分に現れないことが書かれているとレビューがしやすい
- よくあるNG例
    - 「レビュー指摘対応」
        - どのコメントに対するものかわからないのでレビュアーとしてはこのコミットメッセージはつらい
    - 「バグ修正」
        - *これだけではレビュアーや将来のコード考古学者にとっては助けにならない*[1]

#### Gitのコミットメッセージの標準: 50/72ルール[2][3]

- 50/72ルールとは
    - サマリーを現在形で50文字以内で書く(日本語なら25文字くらい)
    - それ以上のテキストを書く場合は、2行目を空行にする
    - 好きなだけテキストを追加してよいが、幅が72文字以内になるようにフォーマットする
- 50/72ルールの利点
    - git log --onelineやGitHub, Bitbucketなど各ツールでコミットの一覧を見るときに見やすい
    - 現在形で書くことで行が短くなる
- コミットメッセージの内容
    - コードが自明なときはサマリーだけで良い
        - 少しでも疑問があるときは、コンテキストを追加する
    - コミットの差分には何をどのように変更したのかの情報がすでに含まれているので、コミットメッセージではそれよりもなぜその変更をしたのか、なぜその形になっているのかを説明するのに最適

例
```
TimeOfDayのstructを導入

これによってMaitreDのコンストラクターパラメーターの役割が明確になる。
TimeOfDay型の大部分はVisualStudioが生成した。
```

### コードにコメントを書く

- *変更内で自分がやったことの理由をレビュアーが理解できないなら、自分がやったことがたとえ正しいとしても、そのようなコードの構造かコメント（またはその両方）は改善が必要だということがはっきりと表されている。コードレビュープロセスの最中に新しい決定が行われるに至った場合、変更履歴を更新するか、実装内に適切なコメントを追加しなければならない。コードレビューは、現在自分が行う活動であるだけでなく、自分の行ったことを後世に向けて記録するために行う活動なのだ。*[1]
